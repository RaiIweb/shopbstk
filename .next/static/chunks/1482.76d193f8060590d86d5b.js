"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1482],{12828:function(e,t,r){const n=r(86900),i=r(80834),o=r(61269),s=new o({maxSize:1e5}),a=e=>"object"===typeof e&&null!==e&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Date),c=(e,t)=>{if(!a(e))return e;t={deep:!1,pascalCase:!1,...t};const{exclude:r,pascalCase:o,stopPaths:c,deep:l}=t,u=new Set(c),d=e=>(t,c)=>{if(l&&a(c)){const r=void 0===e?t:`${e}.${t}`;u.has(r)||(c=n(c,d(r)))}if(!r||!((e,t)=>e.some((e=>"string"===typeof e?e===t:(e.lastIndex=0,e.test(t)))))(r,t)){const e=o?`${t}_`:t;if(s.has(e))t=s.get(e);else{const r=i(t,{pascalCase:o});t.length<100&&s.set(e,r),t=r}}return[t,c]};return n(e,d(void 0))};e.exports=(e,t)=>Array.isArray(e)?Object.keys(e).map((r=>c(e[r],t))):c(e,t)},80834:function(e){const t=(e,t)=>{if("string"!==typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");if(t={pascalCase:!1,preserveConsecutiveUppercase:!1,...t},0===(e=Array.isArray(e)?e.map((e=>e.trim())).filter((e=>e.length)).join("-"):e.trim()).length)return"";if(1===e.length)return t.pascalCase?e.toLocaleUpperCase(t.locale):e.toLocaleLowerCase(t.locale);return e!==e.toLocaleLowerCase(t.locale)&&(e=((e,t)=>{let r=!1,n=!1,i=!1;for(let o=0;o<e.length;o++){const s=e[o];r&&/[\p{Lu}]/u.test(s)?(e=e.slice(0,o)+"-"+e.slice(o),r=!1,i=n,n=!0,o++):n&&i&&/[\p{Ll}]/u.test(s)?(e=e.slice(0,o-1)+"-"+e.slice(o-1),i=n,n=!1,r=!0):(r=s.toLocaleLowerCase(t)===s&&s.toLocaleUpperCase(t)!==s,i=n,n=s.toLocaleUpperCase(t)===s&&s.toLocaleLowerCase(t)!==s)}return e})(e,t.locale)),e=e.replace(/^[_.\- ]+/,""),e=t.preserveConsecutiveUppercase?(e=>e.replace(/^[\p{Lu}](?![\p{Lu}])/gu,(e=>e.toLowerCase())))(e):e.toLocaleLowerCase(),t.pascalCase&&(e=e.charAt(0).toLocaleUpperCase(t.locale)+e.slice(1)),((e,t)=>e.replace(/[_.\- ]+([\p{Alpha}\p{N}_]|$)/gu,((e,r)=>r.toLocaleUpperCase(t.locale))).replace(/\d+([\p{Alpha}\p{N}_]|$)/gu,(e=>e.toLocaleUpperCase(t.locale))))(e,t)};e.exports=t,e.exports.default=t},86900:function(e){const t=e=>"object"===typeof e&&null!==e,r=Symbol("skip"),n=e=>t(e)&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Date),i=(e,t,o,s=new WeakMap)=>{if(o={deep:!1,target:{},...o},s.has(e))return s.get(e);s.set(e,o.target);const{target:a}=o;delete o.target;const c=e=>e.map((e=>n(e)?i(e,t,o,s):e));if(Array.isArray(e))return c(e);for(const[l,u]of Object.entries(e)){const d=t(l,u,e);if(d===r)continue;let[f,h,{shouldRecurse:p=!0}={}]=d;"__proto__"!==f&&(o.deep&&p&&n(h)&&(h=Array.isArray(h)?c(h):i(h,t,o,s)),a[f]=h)}return a};e.exports=(e,r,n)=>{if(!t(e))throw new TypeError(`Expected an object, got \`${e}\` (${typeof e})`);return i(e,r,n)},e.exports.mapObjectSkip=r},7100:function(e,t,r){r.r(t),r.d(t,{default:function(){return A}});var n=r(80318),i=r(80876),o=r(5152),s=r(10867),a=r(99965),c=r(11163),l=r(25675),u=r(94184),d=r.n(u),f=r(24068),h=r(53457),p=r(94397),x=r(18446),m=r.n(x),v=r(41609),g=r.n(v),y=r(96471),b=r(14053),j=r(68184),O=r(94369),w=r(38802),C=r(19877),P=r(67294),E=r(5808),R=r(85893),S=function(e){var t,r,n,i=e.product,o=e.isSticky,a=(0,c.useRouter)(),u=(0,s.$G)("common").t,x=(0,j.SO)().closeModal,v=(0,E.Ch)().attributes,S=null!==i&&void 0!==i?i:{},_=S.name,k=S.slug,L=S.image,N=S.unit,D=S.quantity,A=S.min_price,z=S.max_price,U=(0,h.ZP)({amount:null!==i&&void 0!==i&&i.sale_price?null===i||void 0===i?void 0:i.sale_price:null===i||void 0===i?void 0:i.price,baseAmount:null===i||void 0===i?void 0:i.price}),Z=U.price,T=U.basePrice,M=(U.discount,(0,P.useMemo)((function(){return(0,p.y)(null===i||void 0===i?void 0:i.variations)}),[null===i||void 0===i?void 0:i.variations])),$=(0,C.V)(M,v),I={};$&&(I=null===i||void 0===i||null===(n=i.variation_options)||void 0===n?void 0:n.find((function(e){return m()(e.options.map((function(e){return e.value})).sort(),Object.values(v).sort())})));var F=!g()(M);return(0,R.jsx)("div",{className:d()("max-w-6xl h-auto w-full hidden md:block bg-light fixed top-0 left-1/2 transform -translate-x-1/2 z-50 px-8 py-6 shadow transition-all duration-300",{"invisible opacity-0 -translate-y-1/2":!o,"visible opacity-100 translate-y-0":o}),children:(0,R.jsxs)("div",{className:"flex items-center",children:[(0,R.jsx)("div",{className:d()("border border-border-200 border-opacity-70 rounded relative flex items-center justify-center overflow-hidden flex-shrink-0",{"w-28 h-28":!F,"w-40 lg:w-52 h-40 lg:h-52":F}),children:(0,R.jsx)(l.default,{src:null!==(t=null===L||void 0===L?void 0:L.original)&&void 0!==t?t:w.Hb,alt:_,layout:"fill",objectFit:"contain",className:"product-image"})}),(0,R.jsxs)("div",{className:"px-8 flex flex-col justify-center me-auto overflow-hidden",children:[(0,R.jsx)("h3",{className:"font-semibold text-lg lg:text-xl tracking-tight text-heading truncate cursor-pointer transition-colors hover:text-accent",onClick:function(){return e="".concat(b.Z.PRODUCT,"/").concat(k),a.push(e),void x();var e},title:_,children:_}),N&&!F?(0,R.jsx)("span",{className:"text-sm font-normal text-body mt-2 block",children:N}):(0,R.jsx)("span",{className:"flex items-center mt-2",children:F&&(0,R.jsx)(y.Z,{selectedVariation:I,minPrice:A,maxPrice:z})})]}),(0,R.jsxs)("div",{className:d()("w-full flex flex-shrink-0",{"max-w-max":!F,"max-w-[40%]":F}),children:[!F&&(0,R.jsxs)("span",{className:"me-8 flex items-center ",children:[(0,R.jsx)("ins",{className:"text-xl lg:text-2xl font-semibold text-accent no-underline",children:Z}),T&&(0,R.jsx)("del",{className:"text-sm lg:text-base font-normal text-muted ms-2",children:T})]}),(0,R.jsxs)("div",{className:"w-full",children:[(0,R.jsx)("div",{className:d()("flex flex-col overflow-y-auto justify-center",{"h-[140px]":F}),children:(0,R.jsx)(O.Z,{variations:M})}),(0,R.jsx)("div",{className:d()({"mt-4":F}),children:D>0?(0,R.jsx)(f.o,{data:i,variant:"big",variation:I,disabled:(null===(r=I)||void 0===r?void 0:r.is_disable)||!$}):(0,R.jsx)("div",{className:"bg-red-500 rounded text-sm text-light px-3 py-2",children:u("text-out-stock")})})]})]})]})})},_=r(6401),k=r(91131),L=(0,o.default)((function(){return r.e(8679).then(r.bind(r,98679))}),{loadableGenerated:{webpack:function(){return[98679]},modules:["../components/products/details/popup.tsx -> ./related-products"]}}),N=function(e){var t=e.product,r=e.loading,o=(0,s.$G)("common").t,c=(0,k.KO)(_.f),l=(0,n.Z)(c,1)[0],u=null!==t&&void 0!==t?t:{},d=u.id,f=u.related_products;return r||!t?(0,R.jsx)("div",{className:"w-96 flex justify-center items-center h-96 bg-light relative",children:(0,R.jsx)(i.Z,{text:o("common:text-loading")})}):(0,R.jsx)(E.iv,{children:(0,R.jsxs)("article",{className:"bg-light w-full max-w-6xl xl:min-w-[1152px] relative z-[51] md:rounded-xl",children:[(0,R.jsx)(S,{product:t,isSticky:l}),(0,R.jsx)(a.Z,{product:t,backBtn:!1,isModal:!0}),(null===f||void 0===f?void 0:f.length)>1&&(0,R.jsx)("div",{className:"p-5 md:pb-10 lg:p-14 xl:p-16",children:(0,R.jsx)(L,{products:f,currentProductId:d})})]})})},D=r(90065),A=function(e){var t=e.productSlug,r=(0,D.FA)(t),n=r.data,i=r.isLoading;return(0,R.jsx)(N,{product:n,loading:i})}},90065:function(e,t,r){r.d(t,{kN:function(){return O},FA:function(){return w}});var n=r(92809),i=r(10219),o=r(30266),s=r(68216),a=r(13444),c=r(50982),l=r(92953),u=r(809),d=r.n(u),f=r(7853),h=r(66449),p=r(63844),x=r(88767),m=["data"];function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,c.Z)(this,r)}}var b=new(function(e){(0,a.Z)(r,e);var t=y(r);function r(){return(0,s.Z)(this,r),t.apply(this,arguments)}return r}(f.b))(h.P.PRODUCTS),j=function(){var e=(0,o.Z)(d().mark((function e(t){var r,n,o,s,a,c,l;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.queryKey,n=t.pageParam,o=r[1],s={},!n){e.next=9;break}return e.next=6,b.get(n);case 6:s=e.sent,e.next=12;break;case 9:return e.next=11,b.find(o);case 11:s=e.sent;case 12:return c=(a=s).data,l=(0,i.Z)(a,m),e.abrupt("return",{data:c,paginatorInfo:(0,p.Q)(g({},l))});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(e,t){return(0,x.useInfiniteQuery)([h.P.PRODUCTS,e],j,g(g({},t),{},{getNextPageParam:function(e){return e.paginatorInfo.nextPageUrl}}))},w=function(e){return(0,x.useQuery)([h.P.PRODUCTS,e],(function(){return function(e){return b.findOne(e)}(e)}))}},63844:function(e,t,r){r.d(t,{Q:function(){return c}});var n=r(92809),i=r(12828),o=r.n(i);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c=function(e){var t=o()(e);return a(a({},t),{},{hasMorePages:t.lastPage!==t.currentPage})}},85728:function(e,t,r){r.d(t,{S:function(){return o}});var n=r(11163),i=["ar","he"];function o(){var e=(0,n.useRouter)().locale;return e&&i.includes(e)?{isRTL:!0,alignLeft:"right",alignRight:"left"}:{isRTL:!1,alignLeft:"left",alignRight:"right"}}},14053:function(e,t,r){r.d(t,{Z:function(){return n}});var n={HOME:"/grocery",CHECKOUT:"/checkout",PROFILE:"/profile",CHANGE_PASSWORD:"/change-password",ORDERS:"/orders",REFUNDS:"/refunds",HELP:"/help",LOGOUT:"/logout",OFFERS:"/offers",ORDER_RECEIVED:"/order-received",PRODUCT:"/products",ORDER:"/order",PRIVACY:"/privacy",TERMS:"/terms",CONTACT:"/contact",SHOPS:"/shops"}},61269:function(e){class t{constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(e,t){if(this.cache.set(e,t),this._size++,this._size>=this.maxSize){if(this._size=0,"function"===typeof this.onEviction)for(const[e,t]of this.oldCache.entries())this.onEviction(e,t);this.oldCache=this.cache,this.cache=new Map}}get(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){const t=this.oldCache.get(e);return this.oldCache.delete(e),this._set(e,t),t}}set(e,t){return this.cache.has(e)?this.cache.set(e,t):this._set(e,t),this}has(e){return this.cache.has(e)||this.oldCache.has(e)}peek(e){return this.cache.has(e)?this.cache.get(e):this.oldCache.has(e)?this.oldCache.get(e):void 0}delete(e){const t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache)yield e;for(const e of this.oldCache){const[t]=e;this.cache.has(t)||(yield e)}}get size(){let e=0;for(const t of this.oldCache.keys())this.cache.has(t)||e++;return Math.min(this._size+e,this.maxSize)}}e.exports=t}}]);