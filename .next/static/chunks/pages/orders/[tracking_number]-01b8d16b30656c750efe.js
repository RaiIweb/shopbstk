(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3201],{89704:function(e,t,n){"use strict";n.d(t,{Y:function(){return l}});var r=n(92809),s=n(159),i=(n(67294),n(85893));function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(e){var t=(0,s.Z)({},e);return(0,i.jsx)("svg",o(o({xmlns:"http://www.w3.org/2000/svg",width:"20.894",height:"16",viewBox:"0 0 20.894 16"},t),{},{children:(0,i.jsx)("path",{"data-name":"_ionicons_svg_ios-checkmark (3)",d:"M169.184,175.473l-1.708-1.756a.367.367,0,0,0-.272-.116.352.352,0,0,0-.272.116l-11.837,11.925-4.308-4.308a.375.375,0,0,0-.543,0l-1.727,1.727a.387.387,0,0,0,0,.553l5.434,5.434a1.718,1.718,0,0,0,1.135.553,1.8,1.8,0,0,0,1.126-.534h.01l12.973-13.041A.415.415,0,0,0,169.184,175.473Z",transform:"translate(-148.4 -173.6)",fill:"currentColor"})}))}},2831:function(e,t,n){"use strict";n.d(t,{t:function(){return m}});var r=n(98887),s=n(53457),i=n(10867),a=n(85728),o=n(67294),l=n(75335),c=n(38802),d=n(85893),u=function(e,t){var n,r,i,a,o=(0,s.ZP)({amount:null===(n=t.pivot)||void 0===n?void 0:n.unit_price}).price,u=t.name;if(null!==t&&void 0!==t&&null!==(r=t.pivot)&&void 0!==r&&r.variation_option_id){var m,x=null===t||void 0===t||null===(m=t.variation_options)||void 0===m?void 0:m.find((function(e){var n;return(null===e||void 0===e?void 0:e.id)===(null===t||void 0===t||null===(n=t.pivot)||void 0===n?void 0:n.variation_option_id)})).title;u="".concat(u," - ").concat(x)}return(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("div",{className:"w-16 h-16 flex flex-shrink-0 rounded overflow-hidden relative",children:(0,d.jsx)(l.E,{src:null!==(i=null===(a=t.image)||void 0===a?void 0:a.thumbnail)&&void 0!==i?i:c.Hb,alt:u,className:"w-full h-full object-cover",layout:"fill"})}),(0,d.jsxs)("div",{className:"flex flex-col ms-4 overflow-hidden",children:[(0,d.jsxs)("div",{className:"flex mb-1",children:[(0,d.jsxs)("span",{className:"text-sm text-body truncate inline-block overflow-hidden",children:[u," x\xa0"]}),(0,d.jsx)("span",{className:"text-sm text-heading font-semibold truncate inline-block overflow-hidden",children:t.unit})]}),(0,d.jsx)("span",{className:"text-sm text-accent font-semibold mb-1 truncate inline-block overflow-hidden",children:o})]})]})},m=function(e){var t=e.products,n=(0,i.$G)("common").t,l=(0,a.S)(),c=l.alignLeft,m=l.alignRight,x=(0,o.useMemo)((function(){return[{title:(0,d.jsx)("span",{className:"ps-20",children:n("text-item")}),dataIndex:"",key:"items",align:c,width:250,ellipsis:!0,render:u},{title:n("text-quantity"),dataIndex:"pivot",key:"pivot",align:"center",width:100,render:function(e){return(0,d.jsx)("p",{className:"text-base",children:e.order_quantity})}},{title:n("text-price"),dataIndex:"pivot",key:"price",align:m,width:100,render:function(e){var t=(0,s.ZP)({amount:e.subtotal}).price;return(0,d.jsx)("p",{children:t})}}]}),[c,m,n]);return(0,d.jsx)(r.i,{columns:x,data:t,rowKey:function(e){var t;return null!==(t=e.pivot)&&void 0!==t&&t.variation_option_id?e.pivot.variation_option_id:e.created_at},className:"orderDetailsTable w-full",scroll:{x:350,y:500}})}},38916:function(e,t,n){"use strict";var r=n(92809),s=n(94184),i=n.n(s),a=n(10867),o=n(85893);t.Z=function(e){var t,n=e.className,s=e.color,l=e.textColor,c=e.text,d=e.style,u=(0,a.$G)().t,m="px-3 py-1 rounded-full text-sm",x="bg-accent",f="text-light";return(0,o.jsx)("span",{className:i()(m,(t={},(0,r.Z)(t,x,!s),(0,r.Z)(t,f,!l),t),s,l,n),style:d,children:u(c)})}},98887:function(e,t,n){"use strict";n.d(t,{i:function(){return r.ZP}});n(75089);var r=n(96953)},9224:function(e,t,n){"use strict";n.d(t,{X:function(){return u}});var r=n(68216),s=n(25997),i=n(13444),a=n(50982),o=n(92953),l=n(7853),c=n(66449);function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,o.Z)(e);if(t){var s=(0,o.Z)(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var u=new(function(e){(0,i.Z)(n,e);var t=d(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"verifyCheckout",value:function(e){return this.http.post(c.P.VERIFY_CHECKOUT,e).then((function(e){return e.data}))}}]),n}(l.b))(c.P.ORDERS)},42726:function(e,t,n){"use strict";n.d(t,{mU:function(){return v},OT:function(){return j},Qk:function(){return y},kD:function(){return w}});var r=n(92809),s=n(10219),i=n(30266),a=n(809),o=n.n(a),l=n(63844),c=n(66449),d=n(88767),u=n(9224),m=["data"],x=["data"];function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(){var e=(0,i.Z)(o().mark((function e(t){var n,r,i,a,c,d,x;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.queryKey,r=t.pageParam,i=n[1],a={},!r){e.next=9;break}return e.next=6,u.X.get(r);case 6:a=e.sent,e.next=12;break;case 9:return e.next=11,u.X.find(i);case 11:a=e.sent;case 12:return d=(c=a).data,x=(0,s.Z)(c,m),e.abrupt("return",{data:d,paginatorInfo:(0,l.Q)(p({},x))});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(e,t){return(0,d.useInfiniteQuery)([c.P.ORDERS,e],h,p(p({},t),{},{getNextPageParam:function(e){return e.paginatorInfo.nextPageUrl}}))},b=function(){var e=(0,i.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.X.findOne("".concat(c.P.ORDER_TRACKING_NUMBER,"/").concat(t,"?with=wallet_point"));case 2:return n=e.sent,e.abrupt("return",{order:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(e){var t=e.tracking_number;return(0,d.useQuery)(["order",t],(function(){return b(t)}))},g=function(){var e=(0,i.Z)(o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.X.get(c.P.ORDER_STATUS);case 2:return t=e.sent,n=t.data,r=(0,s.Z)(t,x),e.abrupt("return",{order_statuses:{data:n,paginatorInfo:(0,l.Q)(p({},r))}});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){return(0,d.useQuery)(c.P.ORDER_STATUS,g)},w=function(){return(0,d.useMutation)((function(e){return u.X.create(e)}))}},10550:function(e,t,n){"use strict";n.d(t,{T:function(){return o}});var r=n(92809),s=n(80318);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e){if(e){var t,n=["street_address","state","city","zip","country"].reduce((function(t,n){return a(a({},t),{},(0,r.Z)({},n,e[n]))}),{}),i=(t=n,Object.fromEntries(Object.entries(t).filter((function(e){var t=(0,s.Z)(e,2),n=(t[0],t[1]);return Boolean(n)}))));return Object.values(i).join(", ")}}},41038:function(e,t,n){"use strict";function r(e,t){return e&&e>1?"".concat(e," ").concat(t,"s"):"".concat(e," ").concat(t)}n.d(t,{U:function(){return r}})},53457:function(e,t,n){"use strict";n.d(t,{ZP:function(){return o}});var r=n(67294),s=n(49593),i=n(11163);function a(e){var t=e.amount,n=e.currencyCode,r=e.locale;return new Intl.NumberFormat(r,{style:"currency",currency:n}).format(t)}function o(e){var t=(0,s.rV)().currency,n=null!==e&&void 0!==e?e:{},o=n.amount,l=n.baseAmount,c=n.currencyCode,d=void 0===c?t:c,u=(0,i.useRouter)().locale,m=(0,r.useMemo)((function(){if("number"!==typeof o||!d)return"";var e=u||"en";return l?function(e){var t=e.amount,n=e.baseAmount,r=e.currencyCode,s=e.locale,i=n>t,o=new Intl.NumberFormat(s,{style:"percent"}),l=i?o.format((n-t)/n):null;return{price:a({amount:t,currencyCode:r,locale:s}),basePrice:i?a({amount:n,currencyCode:r,locale:s}):null,discount:l}}({amount:o,baseAmount:l,currencyCode:d,locale:e}):a({amount:o,currencyCode:d,locale:e})}),[o,l,d,u]);return"string"===typeof m?{price:m,basePrice:null,discount:null}:m}},87313:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return E},default:function(){return R}});var r=n(74657),s=n(11163),i=n(42726),a=n(80876),o=n(80318),l=n(67294),c=n(27484),d=n.n(c),u=n(13407),m=n(53457),x=n(10550),f=n(41038),p=n(14053),h=n(10867),v=n(28426),b=n(89704),j=n(38916),g=n(2831),y=n(91131),w=n(70645),N=n(85728),O=n(98887),k=n(85893),_=function(e){var t=e.items,n=(0,h.$G)("common").t,r=(0,N.S)(),s=r.alignLeft,i=r.alignRight,a=[{title:n("text-tracking-number"),dataIndex:"tracking_number",key:"tracking_number",align:s},{title:n("text-date"),dataIndex:"date",key:"date",align:s,render:function(e){return d()(e).format("MMMM D, YYYY")}},{title:n("text-status"),dataIndex:"status",key:"status",align:s,render:function(e){return(0,k.jsx)(j.Z,{text:null===e||void 0===e?void 0:e.name,style:{backgroundColor:null===e||void 0===e?void 0:e.color}})}},{title:n("text-item"),dataIndex:"products",key:"products",align:s,render:function(e){return(0,f.U)(null===e||void 0===e?void 0:e.length,n("text-item"))}},{title:n("text-total-price"),dataIndex:"paid_total",key:"paid_total",align:i,render:function(e){var t=(0,m.ZP)({amount:e}).price;return(0,k.jsx)("p",{children:t})}},{title:"",dataIndex:"tracking_number",key:"tracking_number",align:i,render:function(e){return(0,k.jsx)(u.Z,{href:"".concat(p.Z.ORDERS,"/").concat(e),className:"inline-flex items-center justify-center flex-shrink-0 font-semibold leading-none rounded outline-none transition duration-300 ease-in-out focus:outline-none focus:shadow bg-gray-700 text-light border border-transparent hover:bg-gray-900 px-4 py-0 h-10 text-sm",children:n("text-view")})}}];return(0,k.jsx)(O.i,{columns:a,emptyText:n("table:empty-table-data"),data:t,rowKey:"id",scroll:{x:800}})};function P(e){var t,n,r,s,i,a,c,N,O=e.order,P=(0,h.$G)("common").t,Z=(0,v.jD)().resetCart,E=(0,y.KO)(w.y9),R=(0,o.Z)(E,2)[1];(0,l.useEffect)((function(){Z(),R()}),[Z,R]);var D=(0,m.ZP)({amount:null===O||void 0===O?void 0:O.paid_total}).price,C=(0,m.ZP)({amount:null===O||void 0===O||null===(t=O.wallet_point)||void 0===t?void 0:t.amount}).price,I=(0,m.ZP)({amount:null===O||void 0===O?void 0:O.amount}).price,S=(0,m.ZP)({amount:null!==(n=null===O||void 0===O?void 0:O.delivery_fee)&&void 0!==n?n:0}).price,T=(0,m.ZP)({amount:null!==(r=null===O||void 0===O?void 0:O.sales_tax)&&void 0!==r?r:0}).price,M=(0,m.ZP)({amount:null!==(s=null===O||void 0===O?void 0:O.discount)&&void 0!==s?s:0}).price;return(0,k.jsx)("div",{className:"p-4 sm:p-8",children:(0,k.jsxs)("div",{className:"p-6 sm:p-8 lg:p-12 max-w-screen-lg w-full mx-auto bg-light rounded border shadow-sm",children:[(0,k.jsxs)("h2",{className:"flex flex-col sm:flex-row items-center justify-between text-base font-bold text-heading mb-9 sm:mb-12",children:[(0,k.jsxs)("span",{className:"mt-5 sm:mt-0 me-auto order-2 sm:order-1",children:[(0,k.jsxs)("span",{className:"me-4",children:[P("text-status")," :"]}),(0,k.jsx)(j.Z,{text:null===O||void 0===O||null===(i=O.status)||void 0===i?void 0:i.name,className:"font-normal text-sm whitespace-nowrap"})]}),(0,k.jsx)(u.Z,{href:p.Z.HOME,className:"inline-flex items-center order-1 sm:order-2 text-accent text-base font-normal underline hover:no-underline hover:text-accent-hover",children:P("text-back-to-home")})]}),(0,k.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4 mb-12",children:[(0,k.jsxs)("div",{className:"py-4 px-5 border border-border-200 rounded shadow-sm",children:[(0,k.jsx)("h3",{className:"mb-2 text-sm text-heading font-semibold",children:P("text-order-number")}),(0,k.jsx)("p",{className:"text-sm  text-body-dark",children:null===O||void 0===O?void 0:O.tracking_number})]}),(0,k.jsxs)("div",{className:"py-4 px-5 border border-border-200 rounded shadow-sm",children:[(0,k.jsx)("h3",{className:"mb-2 text-sm  text-heading font-semibold",children:P("text-date")}),(0,k.jsx)("p",{className:"text-sm text-body-dark",children:d()(null===O||void 0===O?void 0:O.created_at).format("MMMM D, YYYY")})]}),(0,k.jsxs)("div",{className:"py-4 px-5 border border-border-200 rounded shadow-sm",children:[(0,k.jsx)("h3",{className:"mb-2 text-sm  text-heading font-semibold",children:P("text-total")}),(0,k.jsx)("p",{className:"text-sm  text-body-dark",children:D})]}),(0,k.jsxs)("div",{className:"py-4 px-5 border border-border-200 rounded shadow-sm",children:[(0,k.jsx)("h3",{className:"mb-2 text-sm  text-heading font-semibold",children:P("text-payment-method")}),(0,k.jsx)("p",{className:"text-sm text-body-dark",children:null!==(a=null===O||void 0===O?void 0:O.payment_gateway)&&void 0!==a?a:"N/A"})]})]}),(0,k.jsxs)("div",{className:"flex flex-col lg:flex-row",children:[(0,k.jsxs)("div",{className:"w-full lg:w-1/2 lg:pe-3 mb-12 lg:mb-0",children:[(0,k.jsx)("h2",{className:"text-xl font-bold text-heading mb-6",children:P("text-total-amount")}),(0,k.jsxs)("div",{children:[(0,k.jsxs)("p",{className:"flex text-body-dark mt-5",children:[(0,k.jsx)("strong",{className:"w-5/12 sm:w-4/12 text-sm  text-heading font-semibold",children:P("text-sub-total")}),":",(0,k.jsx)("span",{className:"w-7/12 sm:w-8/12 ps-4 text-sm ",children:I})]}),(0,k.jsxs)("p",{className:"flex text-body-dark mt-5",children:[(0,k.jsx)("strong",{className:"w-5/12 sm:w-4/12 text-sm  text-heading font-semibold",children:P("text-shipping-charge")}),":",(0,k.jsx)("span",{className:"w-7/12 sm:w-8/12 ps-4 text-sm ",children:S})]}),(0,k.jsxs)("p",{className:"flex text-body-dark mt-5",children:[(0,k.jsx)("strong",{className:"w-5/12 sm:w-4/12 text-sm  text-heading font-semibold",children:P("text-tax")}),":",(0,k.jsx)("span",{className:"w-7/12 sm:w-8/12 ps-4 text-sm ",children:T})]}),(0,k.jsxs)("p",{className:"flex text-body-dark mt-5",children:[(0,k.jsx)("strong",{className:"w-5/12 sm:w-4/12 text-sm  text-heading font-semibold",children:P("text-discount")}),":",(0,k.jsx)("span",{className:"w-7/12 sm:w-8/12 ps-4 text-sm ",children:M})]}),(0,k.jsxs)("p",{className:"flex text-body-dark mt-5",children:[(0,k.jsx)("strong",{className:"w-5/12 sm:w-4/12 text-sm  text-heading font-semibold",children:P("text-total")}),":",(0,k.jsx)("span",{className:"w-7/12 sm:w-8/12 ps-4 text-sm",children:D})]}),C&&(0,k.jsxs)("p",{className:"flex text-body-dark mt-5",children:[(0,k.jsx)("strong",{className:"w-5/12 sm:w-4/12 text-sm  text-heading font-semibold",children:P("text-paid-from-wallet")}),":",(0,k.jsx)("span",{className:"w-7/12 sm:w-8/12 ps-4 text-sm",children:C})]})]})]}),(0,k.jsxs)("div",{className:"w-full lg:w-1/2 lg:ps-3",children:[(0,k.jsx)("h2",{className:"text-xl font-bold text-heading mb-6",children:P("text-order-details")}),(0,k.jsxs)("div",{children:[(0,k.jsxs)("p",{className:"flex text-body-dark mt-5",children:[(0,k.jsx)("strong",{className:"w-4/12 text-sm  text-heading font-semibold",children:P("text-total-item")}),":",(0,k.jsx)("span",{className:"w-8/12 ps-4 text-sm ",children:(0,f.U)(null===O||void 0===O||null===(c=O.products)||void 0===c?void 0:c.length,P("text-item"))})]}),(0,k.jsxs)("p",{className:"flex text-body-dark mt-5",children:[(0,k.jsx)("strong",{className:"w-4/12 text-sm  text-heading font-semibold",children:P("text-deliver-time")}),":",(0,k.jsx)("span",{className:"w-8/12 ps-4 text-sm ",children:null===O||void 0===O?void 0:O.delivery_time})]}),(0,k.jsxs)("p",{className:"flex text-body-dark mt-5",children:[(0,k.jsx)("strong",{className:"w-4/12 text-sm text-heading font-semibold",children:P("text-shipping-address")}),":",(0,k.jsx)("span",{className:"w-8/12 ps-4 text-sm ",children:(0,x.T)(null===O||void 0===O?void 0:O.shipping_address)})]})]})]})]}),(0,k.jsx)("div",{className:"mt-12",children:(0,k.jsx)(g.t,{products:null===O||void 0===O?void 0:O.products})}),null!==O&&void 0!==O&&null!==(N=O.children)&&void 0!==N&&N.length?(0,k.jsxs)("div",{children:[(0,k.jsx)("h2",{className:"text-xl font-bold text-heading mt-12 mb-6",children:P("text-sub-orders")}),(0,k.jsxs)("div",{children:[(0,k.jsxs)("div",{className:"flex items-start border border-gray-700 rounded p-4 mb-12",children:[(0,k.jsx)("span",{className:"w-4 h-4 px-2 rounded-sm bg-dark flex items-center justify-center me-3 mt-0.5",children:(0,k.jsx)(b.Y,{className:"w-2 h-2 text-light flex-shrink-0"})}),(0,k.jsxs)("p",{className:"text-heading text-sm",children:[(0,k.jsxs)("span",{className:"font-bold",children:[P("text-note"),":"]})," ",P("message-sub-order")]})]}),Array.isArray(null===O||void 0===O?void 0:O.children)&&(null===O||void 0===O?void 0:O.children.length)&&(0,k.jsx)("div",{className:"",children:(0,k.jsx)(_,{items:null===O||void 0===O?void 0:O.children})})]})]}):null]})})}function Z(){var e=(0,s.useRouter)().query,t=(0,i.OT)({tracking_number:e.tracking_number}),n=t.data;return t.isLoading?(0,k.jsx)(a.Z,{showText:!1}):(0,k.jsx)(P,{order:null===n||void 0===n?void 0:n.order})}var E=!0;function R(){return(0,k.jsx)(Z,{})}R.authenticate=!0,R.getLayout=r.G},89748:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/orders/[tracking_number]",function(){return n(87313)}])}},function(e){e.O(0,[4066,6576,4657,9774,2888,179],(function(){return t=89748,e(e.s=t);var t}));var t=e.O();_N_E=t}]);